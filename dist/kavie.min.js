function KavieSection(){var e=this;e.observables=[],e.children={},e.validate=!0}!function(e){e.sections={},e.isValid=function(e){for(var n=!0,t=i(e),r=0;r<t.length;r++)t[r].startValidation(),n&&t[r].hasError()&&(n=!1);return n},e.isSectionValid=function(n){for(var i=e.sections[n],t=!0,r=Object.keys(i.children),a=0;a<r.length;a++)e.isSectionValid(r[a],i.validate);return ko.unwrap(i.validate)?t=e.isValid(i.observables):e.deactivate(i.observables),t},e.deactivate=function(e){for(var n=i(e),t=0;t<n.length;t++)n[t].stopValidation()},e.addVariableValidation=function(n,i){var t=e.sections[n];t||(t=e.sections[n]=new KavieSection),t.validate=i},e.addSectionChild=function(n,i){var t=e.sections[n];t||(t=e.sections[n]=new KavieSection),t.children[i]=new KavieSection};var n=function(e){return!!e.hasOwnProperty("hasError")},i=function(e){var i=[];if(e&&e.hasOwnProperty("observables")&&(e=e.observables),e)for(var t=Object.keys(e),r=0;r<t.length;r++)n(e[t[r]])&&i.push(e[t[r]]);return i};e.validatorFunctions={required:function(e,n){return e?!!n:!0},numeric:function(e,n){return e?!isNaN(parseFloat(n))&&isFinite(n):!0},max:function(e,n){return n?n.length<=e:!0},min:function(e,n){return n?n.length>=e:!1},date:function(e,n){return n&&10==n.length?"Invalid Date"!=new Date(n):!1},birthdate:function(e,n){if(!Kavie.validatorFunctions.date(e,n))return!1;var i=new Date(n);if(i>new Date)return!1;var t=new Date;return t.setFullYear(t.getFullYear()-120),!(t>i)},regexPattern:function(e,n){return n?null!==n.toString().match(e):!1}}}(this.Kavie=this.Kavie||{}),ko.extenders.kavie=function(e,n){function i(n){var i=e.rules;for(key in i)for(funcKey in Kavie.validatorFunctions)if(key==funcKey){var t=Kavie.validatorFunctions[funcKey](i[key],n);if(!t)return void e.hasError(!0)}e.hasError(!1)}var t=JSON.parse(JSON.stringify(n));return e.hasError=ko.observable(),t.section&&(Kavie.sections[t.section]||(Kavie.sections[t.section]=new KavieSection),Kavie.sections[t.section].observables.push(e),delete t.section),e.rules=t,e.startValidation=function(){e.subscription=e.subscribe(i),i(e())},e.stopValidation=function(){e.subscription&&e.subscription.dispose(),e.hasError(!1)},e};
ko.extenders.kavie=function(e,i){function r(i){var r=e.rules;for(key in r)for(funcKey in Kavie.validatorFunctions)if(key==funcKey){var t=Kavie.validatorFunctions[funcKey](r[key],i);if(!t)return void e.hasError(!0)}e.hasError(!1)}return e.hasError=ko.observable(),i.addToArray&&(Kavie.add(e),delete i.addToArray),i.section&&(Kavie.sections[i.section]||(Kavie.sections[i.section]=[]),Kavie.sections[i.section].push(e),delete i.section),e.rules=i,e.startValidation=function(){e.subscription=e.subscribe(r),r(e())},e.stopValidation=function(){e.subscription.dispose(),e.hasError(!1)},e};var Kavie=function(){};Kavie.observables=[],Kavie.sections=[],Kavie.isKavieObservable=function(e){return!!e.hasOwnProperty("hasError")},Kavie.add=function(e){this.isKavieObservable(e)&&(this.observables=this.observables.concat(e))},Kavie.compileObservables=function(e){var i=[];if(this.observables.length>0&&(i=i.concat(this.observables)),e)for(var r=Object.keys(e),t=0;t<r.length;t++)this.isKavieObservable(e[r[t]])&&i.push(e[r[t]]);return i},Kavie.isValid=function(e){for(var i=!0,r=Kavie.compileObservables(e),t=0;t<r.length;t++)r[t].startValidation(),i&&r[t].hasError()&&(i=!1);return i},Kavie.deactivate=function(e){for(var i=Kavie.compileObservables(e),r=0;r<i.length;r++)i[r].stopValidation()},Kavie.validatorFunctions={required:function(e,i){return e?!!i:!0},numeric:function(e,i){return e?!isNaN(parseFloat(i))&&isFinite(i):!0},max:function(e,i){return i?i.length<=e:!0},min:function(e,i){return i?i.length>=e:!1},date:function(e,i){return i&&10==i.length?"Invalid Date"!=new Date(i):!1},birthdate:function(e,i){if(!Kavie.validatorFunctions.date(e,i))return!1;var r=new Date(i);if(r>new Date)return!1;var t=new Date;return t.setFullYear(t.getFullYear()-120),!(t>r)},regexPattern:function(e,i){return i?null!==i.toString().match(e):!1}};
!function(){this.Kavie=function(){this.values=arguments[0],this.isActive=!1},Kavie.prototype.addValue=function(t){this.values.push(t)},Kavie.prototype.isValid=function(t){for(var i=!0,e=0;e<this.values.length;e++)this.isKavieObservable(this.values[e])&&(this.values[e].startValidation(),i&&this.values[e].hasError()&&(i=!1));if(t)for(var e=0;e<t.length;e++){var r=t[e].isValid();i&&(r||(i=!1))}return this.isActive=!0,i},Kavie.prototype.isKavieObservable=function(t){return null==t.hasError?!1:!0},Kavie.prototype.deactivate=function(){for(var t=0;t<this.values.length;t++)this.values[t].stopValidation();this.isActive=!1},Kavie.validatorFunctions={required:function(t,i){return t?i?!0:!1:!0},numeric:function(t,i){return t?!isNaN(parseFloat(i))&&isFinite(i):!0},max:function(t,i){return i?i.length<=t:!0},min:function(t,i){return i?i.length>=t:!1},date:function(t,i){return i&&10==i.length?"Invalid Date"==new Date(i)?!1:!0:!1},birthdate:function(t,i){if(!Kavie.validatorFunctions.date(t,i))return!1;var e=new Date(i);if(e>new Date)return!1;var r=new Date;return r.setFullYear(r.getFullYear()-120),r>e?!1:!0}}}(),ko.extenders.kavie=function(t,i){function e(i){var e=t.rules;for(key in e)for(funcKey in Kavie.validatorFunctions)if(key==funcKey){var r=Kavie.validatorFunctions[funcKey](e[key],i);if(!r)return void t.hasError(!0)}t.hasError(!1)}return t.hasError=ko.observable(),t.rules=i,t.subscription,t.startValidation=function(){t.subscription=t.subscribe(e),e(t())},t.stopValidation=function(){t.subscription.dispose(),t.hasError(!1)},t};